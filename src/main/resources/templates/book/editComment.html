<div th:fragment="edit_comment">
	<tr>
		<div th:if="${editId != comment.id}">
			<p th:text="*{comment.comment}"></p>
			<span th:id="'evaluation' + *{comment.id}" class="pull-right" style="padding-left: 1vh;"></span>
			<a class="pull-right" th:href="@{'/userDetail/' + *{comment.user.id}}"
			th:text="*{comment.user.name}" style="padding-left: 1vh;"></a>
			<span class="pull-right" th:text="*{#dates.format(book.createdAt, 'yyyy/MM/dd')}"></span>
			<script th:inline="javascript">
			  $.fn.raty.defaults.path = "/webjars/jquery-raty/2.7.0/images";
		      $(function(){
		        $('#evaluation'+ [[*{comment.id}]]).raty({number: 5, score: /*[[*{comment.evaluation}]]*/, readOnly: true});
		      });
		    </script>
		</div>
		<form th:if="${editId == comment.id}" method="post"
			th:action="@{'/bookDetail/'+ ${book.id} + '/editComment/'+ ${comment.id}}"
			th:object="${commentForm}">
			<div class="form-group" th:classappend="${#fields.hasErrors('comment')} ? 'has-error'">
				<textarea rows="5" class="form-control" required="true" th:field="*{comment}"></textarea>
				<span class="text-danger" th:if="${#fields.hasErrors('comment')}" th:errors="*{comment}">comment error</span>
			</div>
			<script>
			  $.fn.raty.defaults.path = "/webjars/jquery-raty/2.7.0/images";
		      $(function(){
		        $('#star').raty({number: 5, score: [[*{evaluation}]], scoreName: 'num'});
		      });
		    </script>
		    <div class="form-group pull-right">
				<button class="btn btn-success form-control" type="submit">投稿</button>
			</div>
			<div class="form-group pull-right" id="star" style="padding-right: 1vh;">
		    	<span>評価:</span><input type="hidden" th:value="2" name="num">
		</form>
	</tr>
</div>